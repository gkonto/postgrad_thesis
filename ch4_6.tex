\subsection{Υπολογισμός εσωτερικού γινομενου}
\subparagraph{}

σχεδον ολα ειναι μεσα στο examples
\clearpage
\subsubsection{Σειριακή εκτέλεση}
\subparagraph{}

\selectlanguage{english}
\begin{lstlisting}[language=C++, caption={\el{Αρχικοποίηση τιμών διανύσματος}} , frame=tlrb]{Name}
int dot_prod(int *A, int *B, size_t size) {
        int sum = 0; 
        for (size_t i = 0; i < size; ++i) {
                sum += A[i] * B[i];
        }                                
        return sum;
}   
\end{lstlisting}
\selectlanguage{greek}

\begin{table}[htbp]
\centering
\captionsetup{justification=raggedright,
singlelinecheck=false
}
\caption{ \emph{Καταγραφή χρόνων εκτέλεσης παραδειγμάτων}}
\def\arraystretch{1.5}
\begin{tabular}{| p{0.35\textwidth} | p{0.35\textwidth}|}
 \textbf{Αριθμός Βημάτων\cellcolor[HTML]{D0D0D0}} & \textbf{Χρόνος Υπολογισμού (\emph{\en{sec}}) }\cellcolor[HTML]{D0D0D0} \\
\hline
100000000 & 1.134\\
\hline
200000000 & 2.687\\
\hline
300000000 & 4.439\\
\hline
400000000 & 6.837\\
\hline
500000000 & 8.640\\
\hline
\end{tabular}
\end{table}
\clearpage
\subsubsection{Παραλλαγή 1\textsuperscript{η}}
\subparagraph{}

\selectlanguage{english}
\begin{lstlisting}[language=C++, caption={\el{Αρχικοποίηση τιμών διανύσματος}} , frame=tlrb]{Name}
int dot_prod(int *A, int *B, size_t size) {
        int sum = 0;
#pragma omp parallel for reduction(+:sum)
        for (size_t i = 0; i < size; ++i) {
                sum += A[i] * B[i];
        }
        return sum;
}
\end{lstlisting}
\selectlanguage{greek}

\begin{table}[htbp]
\centering
\captionsetup{justification=raggedright,
singlelinecheck=false
}
\caption{ \emph{Καταγραφή χρόνων εκτέλεσης παραδειγμάτων}}
\def\arraystretch{1.5}
\begin{tabular}{| p{0.35\textwidth} | p{0.35\textwidth}|}
 \textbf{Αριθμός Βημάτων\cellcolor[HTML]{D0D0D0}} & \textbf{Χρόνος Υπολογισμού (\emph{\en{sec}}) }\cellcolor[HTML]{D0D0D0} \\
\hline
100000000 &  0.071\\
\hline
200000000 &  0.138\\
\hline
300000000 &  0.202\\
\hline
400000000 &  0.269\\
\hline
500000000 & 0.334\\
\hline
\end{tabular}
\end{table}
\clearpage
\subsubsection{Παραλλαγή 2\textsuperscript{η}}
\subparagraph{}

\selectlanguage{english}
\begin{lstlisting}[language=C++, caption={\el{Αρχικοποίηση τιμών διανύσματος}} , frame=tlrb]{Name}
int dot_prod(int *B, int *C, size_t N)
{
        int sum0 = 0.0;
        int sum1 = 0.0;
        int sum2 = 0.0;
        int sum3 = 0.0;
#pragma omp target map(to: B[:N], C[:N]) map(tofrom: sum0, sum1)
#pragma omp teams num_teams(4)
        {
                 int i;
                 if (omp_get_num_teams() != 4)
                         abort();

                 if (omp_get_team_num() == 0) {
                 #pragma omp parallel for reduction(+:sum0)
                         for (i=0; i<N/4; i++)
                                 sum0 += B[i] * C[i];
                 } else if (omp_get_team_num() == 1) {
                 #pragma omp parallel for reduction(+:sum1)
                         for (i=N/4; i<N/2; i++)
                                 sum1 += B[i] * C[i];
                 } else if (omp_get_team_num() == 2) {
                 #pragma omp parallel for reduction(+:sum2)
                         for (i=N/2; i<3*N/4; i++)
                                 sum2 += B[i] * C[i];
                 } else if (omp_get_team_num() == 3) {
                 #pragma omp parallel for reduction(+:sum2)
                         for (i=3*N/4; i<N; i++)
                                 sum3 += B[i] * C[i];

                 }
         }
         return sum0 + sum1 + sum2 + sum3;
 }

\end{lstlisting}
\selectlanguage{greek}

\begin{table}[htbp]
\centering
\captionsetup{justification=raggedright,
singlelinecheck=false
}
\caption{ \emph{Καταγραφή χρόνων εκτέλεσης παραδειγμάτων}}
\def\arraystretch{1.5}
\begin{tabular}{| p{0.35\textwidth} | p{0.35\textwidth}|}
 \textbf{Αριθμός Βημάτων\cellcolor[HTML]{D0D0D0}} & \textbf{Χρόνος Υπολογισμού (\emph{\en{sec}}) }\cellcolor[HTML]{D0D0D0} \\
\hline
100000000 & 4.326\\
\hline
200000000 & 7.944\\
\hline
300000000 & 13.685\\
\hline
400000000 & 17.316\\
\hline
500000000 & 21.547\\
\hline
\end{tabular}
\end{table}
\clearpage
\subsubsection{Παραλλαγή 3\textsuperscript{η}}
\subparagraph{}

\selectlanguage{english}
\begin{lstlisting}[language=C++, caption={\el{Αρχικοποίηση τιμών διανύσματος}} , frame=tlrb]{Name}
#define min(x, y) (((x) < (y)) ? (x) : (y))

int dot_prod(int B[], int C[], size_t N)
{
        int sum = 0.0;
        int i, i0;
        int block_size = 10000;
#pragma omp target map(to: B[0:N], C[0:N]) map(tofrom: sum)
#pragma omp teams reduction(+:sum)
#pragma omp distribute
        for (i0=0; i0<N; i0 += block_size)
#pragma omp parallel for reduction(+:sum)
                for (i=i0; i< min(i0+block_size,N); i++)
                        sum += B[i] * C[i];
        return sum;
}

#undef min

\end{lstlisting}
\selectlanguage{greek}

\begin{table}[htbp]
\centering
\captionsetup{justification=raggedright,
singlelinecheck=false
}
\caption{ \emph{Καταγραφή χρόνων εκτέλεσης παραδειγμάτων}}
\def\arraystretch{1.5}
\begin{tabular}{| p{0.35\textwidth} | p{0.35\textwidth}|}
 \textbf{Αριθμός Βημάτων\cellcolor[HTML]{D0D0D0}} & \textbf{Χρόνος Υπολογισμού (\emph{\en{sec}}) }\cellcolor[HTML]{D0D0D0} \\
\hline
100000000 & 1.391\\
\hline
200000000 & 1.821\\
\hline
300000000 & 4.695\\
\hline
400000000 & 6.053\\
\hline
500000000 & 5.766\\
\hline
\end{tabular}
\end{table}
\clearpage
\subsubsection{Παραλλαγή 4\textsuperscript{η}}
\subparagraph{}

\selectlanguage{english}
\begin{lstlisting}[language=C++, caption={\el{Αρχικοποίηση τιμών διανύσματος}} , frame=tlrb]{Name}

\end{lstlisting}
\selectlanguage{greek}

\begin{table}[htbp]
\centering
\captionsetup{justification=raggedright,
singlelinecheck=false
}
\caption{ \emph{Καταγραφή χρόνων εκτέλεσης παραδειγμάτων}}
\def\arraystretch{1.5}
\begin{tabular}{| p{0.35\textwidth} | p{0.35\textwidth}|}
 \textbf{Αριθμός Βημάτων\cellcolor[HTML]{D0D0D0}} & \textbf{Χρόνος Υπολογισμού (\emph{\en{sec}}) }\cellcolor[HTML]{D0D0D0} \\
\hline
100000000 &  1.492\\
\hline
200000000 & 2.703\\
\hline
300000000 & 3.689\\
\hline
400000000 & 4.635\\
\hline
500000000 & 5.912\\
\hline
\end{tabular}
\end{table}
\clearpage
\subsubsection{Παραλλαγή 5\textsuperscript{η}}
\subparagraph{}

\selectlanguage{english}
\begin{lstlisting}[language=C++, caption={\el{Αρχικοποίηση τιμών διανύσματος}} , frame=tlrb]{Name}

\end{lstlisting}
\selectlanguage{greek}

\begin{table}[htbp]
\centering
\captionsetup{justification=raggedright,
singlelinecheck=false
}
\caption{ \emph{Καταγραφή χρόνων εκτέλεσης παραδειγμάτων}}
\def\arraystretch{1.5}
\begin{tabular}{| p{0.35\textwidth} | p{0.35\textwidth}|}
 \textbf{Αριθμός Βημάτων\cellcolor[HTML]{D0D0D0}} & \textbf{Χρόνος Υπολογισμού (\emph{\en{sec}}) }\cellcolor[HTML]{D0D0D0} \\
\hline
100000000 & 2.820\\
\hline
200000000 & 4.670\\
\hline
300000000 & 9.104904 \\
\hline
400000000 & 11.084\\
\hline
500000000 & 13.857\\
\hline
\end{tabular}
\end{table}